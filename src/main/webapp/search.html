<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js" 
  integrity="sha384-w76AqPfDkMBDXo30jS1Sgez6pr3x5MlQ1ZAGC+nuZB+EYdgRZgiwxhTBTkF7CXvN" crossorigin="anonymous"></script>

  <script type="text/javascript" src="https://cdn.jsdelivr.net/jquery/latest/jquery.min.js"></script>
  <script type="text/javascript" src="https://cdn.jsdelivr.net/momentjs/latest/moment.min.js"></script>
  <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/daterangepicker/daterangepicker.min.js"></script>
  <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/daterangepicker/daterangepicker.css" />
    
  <title>Search</title>
</head>
<body>

  <div class="container">
    
    <header class="d-flex flex-wrap align-items-center justify-content-center justify-content-md-between py-3 mb-4 border-bottom">
      <a href="" class="d-flex align-items-center col-md-3 mb-2 mb-md-0 text-dark text-decoration-none">
        <img src = "..\images\swift-bird.svg" width="60"  height="50" alt="Flyme"/>
        <span class="px-3 fs-4">Flyme</span>
      </a>

      <ul class="nav col-12 col-md-auto mb-2 justify-content-center mb-md-0">
        <li><a href="#" class="nav-link px-2 link-secondary">Home</a></li>
        <li><a href="#" class="nav-link px-2 link-dark">Travel</a></li>
        <li><a href="#" class="nav-link px-2 link-dark">Pricing</a></li>
        <li><a href="#" class="nav-link px-2 link-dark">Mileage</a></li>
        <li><a href="#" class="nav-link px-2 link-dark">About</a></li>
      </ul>

      <div class="col-md-3 text-end">
        <button type="button" class="btn btn-outline-primary me-2">Login</button>
        <button type="button" class="btn btn-primary">Sign-up</button>
      </div>
    </header>
    
    <div class="col-lg-8 col-md-10 mx-auto">
      <section class="pb-4 m-4">

        <div class="bg-white border rounded-4">
          
          <section class="w-100 p-4 d-flex justify-content-center pb-4">
            
            <form id="sign-up" class="row g-3 col-md-8" action="#" method="GET">
              <div class="row">
                <div class="form-check form-switch">
                  <input class="form-check-input" type="checkbox" role="switch" id="SwitchCheck">
                  <label class="form-check-label" for="SwitchCheck" id="SwitchCheckLbl">One way</label>
                </div>
                
              <div class="col-md-3">
                <input class="form-control" id="passengers" name="travelers" type="number">
              </div>
  
                <div class="btn-group col-md-5">
                  <button class="btn btn-secondary btn-sm dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false">
                    Economy
                  </button>
                  <ul class="dropdown-menu">
                    <li>Economy</li>
                    <li>Business</li>
                    <li>Premium</li>
                  </ul>
                </div>
              </div>   

              <div class="col-md-5">
                <input class="form-control" list="originListOptions" id="origin" name="origin" type="text" placeholder="From" aria-label="default input example">
                <datalist id="originListOptions">
                  <option value="San Francisco">
                  <option value="New York">
                  <option value="Seattle">
                  <option value="Los Angeles">
                  <option value="Chicago">
                </datalist>
              </div>

              <div class="col-md-2">

                <button type="button" class="btn btn-outline-secondary">
                  <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-arrow-left-right" viewBox="0 0 16 16">
  <path fill-rule="evenodd" d="M1 11.5a.5.5 0 0 0 .5.5h11.793l-3.147 3.146a.5.5 0 0 0 .708.708l4-4a.5.5 0 0 0 0-.708l-4-4a.5.5 0 0 0-.708.708L13.293 11H1.5a.5.5 0 0 0-.5.5zm14-7a.5.5 0 0 1-.5.5H2.707l3.147 3.146a.5.5 0 1 1-.708.708l-4-4a.5.5 0 0 1 0-.708l4-4a.5.5 0 1 1 .708.708L2.707 4H14.5a.5.5 0 0 1 .5.5z"></path>
  </svg>
                  <span class="visually-hidden">Toggle</span>
                </button>
              </div>

              <div class="col-md-5">
                <input class="form-control" list="destinationListOptions" id="destination" name="destination" type="text" placeholder="To" aria-label="default input example">
                <datalist id="destinationListOptions">
                  <option value="San Francisco">
                  <option value="New York">
                  <option value="Seattle">
                  <option value="Los Angeles">
                  <option value="Chicago">
                </datalist>
              </div>

              <div class="mb-0">
                <label class="form-label">Travel date</label>
                <input class="form-control form-control-solid" placeholder="Pick date rage" id="daterange"/>
              </div>

              <button type="button" class="btn btn-outline-secondary">Search</button>

            </form> 
              
          </section>         
        </div>

      </section>
    </div>
    
  </div>

  <script>
    const SwitchCheck = document.querySelector("#SwitchCheck");
    const SwitchCheckLabel = document.querySelector("#SwitchCheckLbl");

    // Add a number of days to the current date  
    Date.prototype.addDays = function(days) {
      let date = new Date(this.valueOf());
      date.setDate(date.getDate() + days);
      return date;
    }
    
    let today = new Date();

    const roundTrip = function() {
      $("#daterange").daterangepicker({
        opens: 'center'
      }, function(start, end, label) {
        console.log("Start date: " + start.format('YYYY-MM-DD'));
        console.log("End date: " + end.format('YYYY-MM-DD'));
      });
      $('#daterange').data('daterangepicker').setEndDate(today.addDays(5));
    }

    const oneWay = function() {
      $('#daterange').daterangepicker({
        singleDatePicker: true,
        showDropdowns: true,
        minYear: 1901,
        maxYear: parseInt(moment().format('YYYY'),10)
      }, function(start, end, label) {
        var years = moment().diff(start, 'years');
        // console.log(years);
        console.log("Date: " + end.format('YYYY-MM-DD'));
      });
      $('#daterange').data('daterangepicker').setEndDate(today);
    }

    SwitchCheck.addEventListener("change", (event) => {
      if (event.target.checked) {
        SwitchCheckLabel.textContent = "Roundtrip";
        roundTrip();
      } else {
        SwitchCheckLabel.textContent = "One way";
        oneWay();
      }
    });

    // Default
    oneWay();

  </script>
</body>
</html>